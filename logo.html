<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>siKKmiXX spinning overlap logo</title>
  <style>
    :root{
      --bg:#000;
      --stroke: rgba(255,255,255,.12);
      --pink:#ff00cc;
      --blue:#3333ff;
      --cyan:#00e0ff;
      --glowPink: 0 0 10px rgba(255,0,204,.75), 0 0 22px rgba(255,0,204,.35);
      --glowCyan: 0 0 10px rgba(0,224,255,.60), 0 0 22px rgba(0,224,255,.28);
    }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background: var(--bg);
      color:#fff;
      font-family:"Segoe UI", system-ui, -apple-system, Arial, sans-serif;
    }

    #sikkmixx-logo{
      position:relative;
      width:min(640px, 94vw);
      aspect-ratio: 3 / 1.35;
      display:grid;
      place-items:center;
      user-select:none;
    }

    .deck{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      /* MORE overlap so KK/XX can collide in the middle */
      gap: 0;
    }

    .disc{
      position:relative;
      width: 46%;
      aspect-ratio:1/1;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:
        radial-gradient(circle at 30% 25%, rgba(255,255,255,.14), transparent 52%),
        radial-gradient(circle at 70% 70%, rgba(0,224,255,.10), transparent 55%),
        rgba(18,18,18,.55);
      backdrop-filter: blur(14px);
      box-shadow: 0 0 45px rgba(255,0,204,.16);
      display:grid;
      place-items:center;
      overflow: visible; /* IMPORTANT: let KK/XX spill outside the disc */
    }

    /* grooves */
    .disc::before{
      content:"";
      position:absolute;
      inset:-12%;
      border-radius:999px;
      background:
        repeating-radial-gradient(circle,
          rgba(255,255,255,.08) 0 1px,
          rgba(0,0,0,0) 1px 7px);
      opacity:.22;
      pointer-events:none;
      filter: blur(.2px);
    }

    /* label dot */
    .disc::after{
      content:"";
      position:absolute;
      width: 10%;
      aspect-ratio:1/1;
      border-radius:999px;
      background: radial-gradient(circle, rgba(255,255,255,.9), rgba(255,255,255,.2));
      opacity:.22;
      pointer-events:none;
    }

    /* Pull discs INTO each other */
    .disc.left  { transform: translateX(14%); z-index: 2; }
    .disc.right { transform: translateX(-14%); z-index: 1; }

    /* Rotating layer */
    .spin{
      position:relative;
      width: 100%;
      height: 100%;
      transform-origin: 50% 50%;
      will-change: transform;
      display:grid;
      place-items:center;
      z-index: 5;
      pointer-events:none;
    }

    /* Base (si / mi) stays centered on the disc and rotates with it */
    .base{
      font-weight: 800;
      letter-spacing: 1px;
      font-size: clamp(22px, 4.2vw, 44px);
      opacity: .92;
      color: rgba(255,255,255,.88);
      text-shadow: 0 0 12px rgba(255,255,255,.12);
      filter: drop-shadow(0 0 10px rgba(0,0,0,.6));
    }

    /* The big “rim letters” KK / XX that spill OUTSIDE the record */
    .rim{
      position:absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-weight: 900;
      letter-spacing: 1px;
      font-size: clamp(56px, 10.5vw, 118px); /* BIG */
      line-height: 1;
      background: linear-gradient(90deg, var(--pink), var(--blue));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: var(--glowPink);
      filter: drop-shadow(0 0 14px rgba(255,0,204,.35));
      will-change: transform, filter;
    }

    /*
      Place them on the inner rim toward the overlap.
      - left disc’s KK sits on RIGHT rim (positive x)
      - right disc’s XX sits on LEFT rim (negative x)
      Also “spill” outward by going beyond radius.
    */
    .disc.left .rim  { transform: translate(-50%, -50%) translateX(55%) translateY(-2%); }
    .disc.right .rim { transform: translate(-50%, -50%) translateX(-55%) translateY(-2%); }

    /* Flash when alignment happens */
    .flash{
      animation: flashPop 220ms ease-out 1;
    }

    @keyframes flashPop{
      0%   { filter: drop-shadow(0 0 0 rgba(255,0,204,0)); transform: scale(1); }
      35%  { filter: drop-shadow(0 0 26px rgba(0,224,255,.85)) drop-shadow(0 0 18px rgba(255,0,204,.85)); transform: scale(1.08); }
      100% { filter: drop-shadow(0 0 0 rgba(255,0,204,0)); transform: scale(1); }
    }

    /* center overlap spark */
    .spark{
      position:absolute;
      left:50%;
      top:50%;
      width: 16%;
      aspect-ratio:1/1;
      transform: translate(-50%, -50%);
      border-radius:999px;
      background: radial-gradient(circle, rgba(255,0,204,.95), rgba(0,224,255,.40), transparent 70%);
      opacity:0;
      pointer-events:none;
      z-index: 50;
    }

    .sparkOn{
      opacity:1;
      animation: spark 220ms ease-out 1;
    }

    @keyframes spark{
      0%   { transform: translate(-50%, -50%) scale(.70); opacity:0; }
      35%  { transform: translate(-50%, -50%) scale(1.05); opacity:1; }
      100% { transform: translate(-50%, -50%) scale(1.55); opacity:0; }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .spin{ transform:none !important; }
    }
  </style>
</head>

<body>

<div id="sikkmixx-logo" aria-label="siKKmiXX logo">
  <div class="deck">
    <div class="disc left">
      <div class="spin" id="spinLeft">
        <div class="base">si</div>
        <div class="rim" id="rimKK">KK</div>
      </div>
    </div>

    <div class="disc right">
      <div class="spin" id="spinRight">
        <div class="base">mi</div>
        <div class="rim" id="rimXX">XX</div>
      </div>
    </div>

    <div class="spark" id="spark"></div>
  </div>
</div>

<script>
  // --- Tunables ---
  const SPEED_DEG_PER_SEC = 44;     // spin speed
  const FLASH_THRESHOLD_DEG = 6;    // how close the match must be
  const FLASH_COOLDOWN_MS = 260;    // avoids constant flashing

  // later: hook this to your audio element play/pause
  let isPlaying = true;

  const spinLeft  = document.getElementById("spinLeft");
  const spinRight = document.getElementById("spinRight");
  const rimKK = document.getElementById("rimKK");
  const rimXX = document.getElementById("rimXX");
  const spark = document.getElementById("spark");
  const logo  = document.getElementById("sikkmixx-logo");

  let lastFlashAt = 0;
  const t0 = performance.now();

  function normDeg(d){
    d = d % 360;
    return d < 0 ? d + 360 : d;
  }

  function shortestAngleDiff(a, b){
    let diff = Math.abs(normDeg(a) - normDeg(b));
    return diff > 180 ? 360 - diff : diff;
  }

  function triggerFlash(){
    rimKK.classList.add("flash");
    rimXX.classList.add("flash");
    spark.classList.add("sparkOn");

    setTimeout(() => {
      rimKK.classList.remove("flash");
      rimXX.classList.remove("flash");
      spark.classList.remove("sparkOn");
    }, 240);
  }

  function tick(now){
    const dt = (now - t0) / 1000;

    if (isPlaying && !matchMedia("(prefers-reduced-motion: reduce)").matches){
      // right disc clockwise, left disc counterclockwise
      const aRight = normDeg(dt * SPEED_DEG_PER_SEC);
      const aLeft  = normDeg(-dt * SPEED_DEG_PER_SEC);

      spinRight.style.transform = `rotate(${aRight}deg)`;
      spinLeft.style.transform  = `rotate(${aLeft}deg)`;

      // “Match up” moment: relative angle near 0°
      const relative = shortestAngleDiff(aRight, aLeft);

      const nowMs = performance.now();
      if (relative <= FLASH_THRESHOLD_DEG && (nowMs - lastFlashAt) > FLASH_COOLDOWN_MS) {
        lastFlashAt = nowMs;
        triggerFlash();
      }
    }

    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  // demo toggle (click logo to pause/play)
  logo.addEventListener("click", () => { isPlaying = !isPlaying; });
</script>

</body>
</html>
