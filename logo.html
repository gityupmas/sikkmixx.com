<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>siKKmiXX animated logo</title>
  <style>
    :root{
      --bg: #000;
      --glass: rgba(30,30,30,.45);
      --stroke: rgba(255,255,255,.12);
      --pink: #ff00cc;
      --blue: #3333ff;
      --cyan: #00e0ff;
      --glow: 0 0 10px rgba(255,0,204,.65), 0 0 22px rgba(255,0,204,.35);
      --glow2: 0 0 10px rgba(0,224,255,.55), 0 0 22px rgba(0,224,255,.28);
    }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background: var(--bg);
      color:#fff;
      font-family: "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
    }

    /* ---------- LOGO CONTAINER ---------- */
    #sikkmixx-logo{
      position: relative;
      width: min(520px, 92vw);
      aspect-ratio: 3 / 1.2;
      display: grid;
      place-items: center;
      user-select: none;
    }

    .deck{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 0;
    }

    /* Two “records” that overlap slightly */
    .disc{
      position: relative;
      width: 44%;
      aspect-ratio: 1 / 1;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 25%, rgba(255,255,255,.12), transparent 52%),
                  radial-gradient(circle at 70% 70%, rgba(0,224,255,.10), transparent 55%),
                  rgba(20,20,20,.55);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(14px);
      box-shadow: 0 0 40px rgba(255,0,204,.18);
      display:grid;
      place-items:center;
      overflow:hidden;
    }

    /* subtle grooves */
    .disc::before{
      content:"";
      position:absolute;
      inset:-10%;
      border-radius:999px;
      background:
        repeating-radial-gradient(circle,
          rgba(255,255,255,.08) 0 1px,
          rgba(0,0,0,0) 1px 7px);
      opacity:.22;
      filter: blur(.2px);
    }

    /* center label dot */
    .disc::after{
      content:"";
      position:absolute;
      width: 10%;
      aspect-ratio:1/1;
      border-radius:999px;
      background: radial-gradient(circle, rgba(255,255,255,.9), rgba(255,255,255,.2));
      opacity:.22;
    }

    /* Overlap the two discs a bit */
    .disc.left{ transform: translateX(8%); }
    .disc.right{ transform: translateX(-8%); }

    /* The rotating word layer */
    .spin{
      position: relative;
      width: 86%;
      aspect-ratio: 1 / 1;
      display:grid;
      place-items:center;
      transform-origin: 50% 50%;
      will-change: transform;
      z-index:2;
    }

    .word{
      font-weight: 800;
      letter-spacing: 1px;
      font-size: clamp(28px, 5.4vw, 52px);
      line-height: 1;
      text-transform: none;
      filter: drop-shadow(0 0 10px rgba(0,0,0,.6));
      display:flex;
      align-items:baseline;
      gap: 2px;
    }

    .word .soft{
      opacity:.92;
      color: rgba(255,255,255,.88);
      text-shadow: 0 0 12px rgba(255,255,255,.12);
    }

    .word .hot{
      background: linear-gradient(90deg, var(--pink), var(--blue));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: var(--glow);
      position: relative;
    }

    /* Flash effect on KK / XX when overlap moment happens */
    .flash .hot{
      animation: flashPop 220ms ease-out 1;
    }

    .flashSpark{
      position:absolute;
      left: 50%;
      top: 50%;
      width: 22%;
      aspect-ratio:1/1;
      transform: translate(-50%,-50%);
      border-radius: 999px;
      background: radial-gradient(circle, rgba(255,0,204,.95), rgba(0,224,255,.35), transparent 70%);
      opacity: 0;
      filter: blur(.2px);
      pointer-events:none;
      z-index: 5;
    }

    .sparkOn{
      opacity: 1;
      animation: spark 220ms ease-out 1;
    }

    @keyframes flashPop{
      0%   { filter: drop-shadow(0 0 0 rgba(255,0,204,0)); transform: scale(1); }
      40%  { filter: drop-shadow(0 0 18px rgba(255,0,204,.9)); transform: scale(1.10); }
      100% { filter: drop-shadow(0 0 0 rgba(255,0,204,0)); transform: scale(1); }
    }

    @keyframes spark{
      0%   { transform: translate(-50%,-50%) scale(.75); opacity:0; }
      35%  { transform: translate(-50%,-50%) scale(1.05); opacity:1; }
      100% { transform: translate(-50%,-50%) scale(1.45); opacity:0; }
    }

    /* Optional: pause / play indicator hook */
    .paused .spin{ filter: saturate(.9) brightness(.95); }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .spin{ transform: none !important; }
    }
  </style>
</head>

<body>

<div id="sikkmixx-logo" aria-label="siKKmiXX logo">
  <div class="deck">
    <!-- left disc: siKK (counterclockwise) -->
    <div class="disc left">
      <div class="spin" id="spinLeft">
        <div class="word" id="wordLeft">
          <span class="soft">si</span><span class="hot">KK</span>
        </div>
      </div>
    </div>

    <!-- right disc: miXX (clockwise) -->
    <div class="disc right">
      <div class="spin" id="spinRight">
        <div class="word" id="wordRight">
          <span class="soft">mi</span><span class="hot">XX</span>
        </div>
      </div>
    </div>

    <!-- shared overlap spark -->
    <div class="flashSpark" id="spark"></div>
  </div>
</div>

<script>
  // ---- Tunables ----
  const SPEED_DEG_PER_SEC = 42;     // base spin speed
  const FLASH_THRESHOLD_DEG = 7;    // how close alignment must be to flash
  const FLASH_COOLDOWN_MS = 260;    // prevents constant flashing

  // Hook this to your audio play state later:
  let isPlaying = true;             // set false to pause spinning

  const spinLeft  = document.getElementById("spinLeft");
  const spinRight = document.getElementById("spinRight");
  const wordLeft  = document.getElementById("wordLeft");
  const wordRight = document.getElementById("wordRight");
  const spark     = document.getElementById("spark");
  const logo      = document.getElementById("sikkmixx-logo");

  let lastFlashAt = 0;

  function normDeg(d){
    // normalize to [0, 360)
    d = d % 360;
    return d < 0 ? d + 360 : d;
  }

  function shortestAngleDiff(a, b){
    // smallest difference between two angles in degrees
    let diff = Math.abs(normDeg(a) - normDeg(b));
    return diff > 180 ? 360 - diff : diff;
  }

  function triggerFlash(){
    wordLeft.classList.add("flash");
    wordRight.classList.add("flash");
    spark.classList.add("sparkOn");

    // cleanup
    setTimeout(() => {
      wordLeft.classList.remove("flash");
      wordRight.classList.remove("flash");
      spark.classList.remove("sparkOn");
    }, 240);
  }

  // Animation loop so we can compute alignment precisely
  const t0 = performance.now();
  function tick(now){
    const dt = (now - t0) / 1000;

    if (isPlaying && !window.matchMedia("(prefers-reduced-motion: reduce)").matches){
      // clockwise on right, counterclockwise on left
      const aRight =  normDeg(dt * SPEED_DEG_PER_SEC);
      const aLeft  =  normDeg(-dt * SPEED_DEG_PER_SEC);

      spinRight.style.transform = `rotate(${aRight}deg)`;
      spinLeft.style.transform  = `rotate(${aLeft}deg)`;

      // flash when the two spins "line up" (relative angle near 0)
      const relative = shortestAngleDiff(aRight, aLeft);

      const nowMs = performance.now();
      if (relative <= FLASH_THRESHOLD_DEG && (nowMs - lastFlashAt) > FLASH_COOLDOWN_MS){
        lastFlashAt = nowMs;
        triggerFlash();
      }

      logo.classList.remove("paused");
    } else {
      logo.classList.add("paused");
    }

    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  // OPTIONAL: quick demo toggle on click (replace with your audio events later)
  logo.addEventListener("click", () => { isPlaying = !isPlaying; });
</script>

</body>
</html>
